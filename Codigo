from dataclasses import dataclass
from enum import Enum

# Definição da classe Mensagem que irá representar as mensagens de texto deste código
# Optei pelo dataclass para não precisar repetir várias vezes a inicialização, para fins de exemplificação
@dataclass
class Mensagem:
    """Classe base para mensagens de texto."""
    texto: str  # Conteúdo da mensagem
    data_envio: str  # Data em que a mensagem foi enviada

# Classe para mensagens multimídia (como imagens e vídeos), que tem a herança da classe de mensagem
@dataclass
class MensagemMultimidia(Mensagem):
    """Classe para mensagens com arquivos multimídia."""
    arquivo: str  # Nome do arquivo associado à mensagem
    formato: str  # Formato do arquivo (ex: jpg, mp4, pdf)

# Classe específica para mensagens de vídeo, que adiciona a duração do vídeo e torna eles mais completos e robustos para este trabalho
@dataclass
class MensagemVideo(MensagemMultimidia):
    """Classe específica para mensagens de vídeo."""
    duracao: str  # Duração do vídeo (ex: "2min", "30s")

# Classe específica para mensagens de documento, que adiciona informações relevantes
# Tomei a liberdade de adicionar mais coisas ao trabalho, para que eu pudesse sentir que estava fazendo algo que seja único e não apenas um passo a passa engessado
# E criei variações de formato de vídeo e de documento para deixar tudo mais interessante e variado, designando formatos diferentes a canais diferentes
@dataclass
class MensagemDocumento(MensagemMultimidia):
    """Classe específica para mensagens de documento."""
    num_paginas: int  # Quantidade de páginas no documento
    tamanho_arquivo: str  # Tamanho do arquivo (ex: "2MB")
    tipo_documento: str  # Tipo do documento (ex: "PDF", "DOCX", "TXT")

# Enum para definir os tipos de canal disponíveis
class TipoCanal(Enum):
    """Enum para os tipos de canal disponíveis."""
    WHATSAPP = "WhatsApp"
    TELEGRAM = "Telegram"
    FACEBOOK = "Facebook"
    INSTAGRAM = "Instagram"

# Classe que representa um canal de comunicação
@dataclass
class Canal:
    """Classe que representa um canal de comunicação."""
    identificador: str  # Identificador do canal (número de telefone, nome de usuário, etc.)
    tipo: TipoCanal  # Tipo do canal (WhatsApp, Telegram, etc.)

    def enviar_mensagem(self, mensagem: Mensagem):
        """Simula o envio de uma mensagem para o canal."""
        print(f"Enviando via {self.tipo.value} para {self.identificador}: {mensagem}")

# Zona de testes, é aqui que verei se tudo está seguindo conforme o planejado
if _name_ == "_main_":
    # Criando uma mensagem de texto
    mensagem_texto = Mensagem("Olá, tudo bem?", "21/05/2025")

    # Criando um dicionário associando cada canal a um formato exclusivo de documento
    canais_documentos = {
        TipoCanal.WHATSAPP: MensagemDocumento("Contrato de serviço", "21/05/2025", "contrato.docx", "DOCX", 5, "1MB", "DOCX"),
        TipoCanal.TELEGRAM: MensagemDocumento("Manual de instruções", "21/05/2025", "manual.pdf", "PDF", 15, "3MB", "PDF"),
        TipoCanal.FACEBOOK: MensagemDocumento("Resumo acadêmico", "21/05/2025", "resumo.txt", "TXT", 2, "500KB", "TXT"),
        TipoCanal.INSTAGRAM: MensagemDocumento("Apresentação de projeto", "21/05/2025", "projeto.pptx", "PPTX", 10, "4MB", "PPTX")
    }

    # Criando um dicionário associando cada canal a um formato exclusivo de vídeo, como já citado anteriormente
    canais_videos = {
        TipoCanal.WHATSAPP: MensagemVideo("Veja este vídeo!", "21/05/2025", "video.mp4", "MP4", "2min"),
        TipoCanal.TELEGRAM: MensagemVideo("Confira este conteúdo!", "21/05/2025", "video.avi", "AVI", "3min"),
        TipoCanal.FACEBOOK: MensagemVideo("Assista isso!", "21/05/2025", "video.flv", "FLV", "1min30s"),
        TipoCanal.INSTAGRAM: MensagemVideo("Não perca este vídeo!", "21/05/2025", "video.mov", "MOV", "4min")
    }

    # Criando a lista de canais de comunicação disponíveis, ficando fácil de ver quais são os mesmos
    canais = [
        Canal("+5511999999999", TipoCanal.WHATSAPP),  # WhatsApp
        Canal("@usuario_telegram", TipoCanal.TELEGRAM),  # Telegram
        Canal("facebook_usuario", TipoCanal.FACEBOOK),  # Facebook
        Canal("instagram_usuario", TipoCanal.INSTAGRAM)  # Instagram
    ]

    # Enviando mensagens para cada canal e assim vendo se tudo está funcionando
    for canal in canais:
        canal.enviar_mensagem(mensagem_texto)  # Todos os canais recebem a mensagem de texto
        canal.enviar_mensagem(canais_documentos[canal.tipo])  # Cada canal recebe apenas seu formato de documento exclusivo
        canal.enviar_mensagem(canais_videos[canal.tipo])  # Cada canal recebe apenas seu formato de vídeo exclusivo
